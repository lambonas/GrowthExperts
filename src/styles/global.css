@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Base styles */
  * {
    @apply border-gray-200;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-white text-gray-900 font-sans antialiased;
  }

  /* Focus styles for accessibility - Brand blue for trust */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500 ring-2 ring-primary-500 ring-offset-2;
  }

  /* Selection styles - Brand colors for consistency */
  ::selection {
    @apply bg-primary-100 text-primary-900;
  }

  /* Alternative selection with accent color for emphasis */
  .accent-selection::selection {
    @apply bg-accent-100 text-accent-900;
  }

  /* Accessibility: Respect user's motion preferences globally */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  /* Container */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Section padding */
  .section-padding {
    @apply py-16 md:py-24 lg:py-32;
  }

  /* Button base */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 text-base font-semibold rounded-lg transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Primary button - Trust-building blue with enhanced effects */
  .btn-primary {
    @apply btn bg-primary-500 text-white hover:bg-primary-600 hover:shadow-xl hover:shadow-primary-200 hover:-translate-y-1 active:translate-y-0 focus-visible:outline-primary-600 focus-visible:ring-4 focus-visible:ring-primary-200;
  }

  /* Secondary button - Professional outline with brand colors */
  .btn-secondary {
    @apply btn border-2 border-primary-500 text-primary-700 bg-white hover:bg-primary-500 hover:text-white hover:shadow-xl hover:shadow-primary-100 hover:border-primary-600 active:scale-95;
  }

  /* Accent button (CTA) - High-conversion orange gradient */
  .btn-accent {
    @apply btn bg-gradient-to-r from-accent-500 to-accent-600 text-white hover:from-accent-600 hover:to-accent-700 hover:shadow-2xl hover:shadow-accent-300 hover:scale-105 active:scale-100 focus-visible:outline-accent-600 focus-visible:ring-4 focus-visible:ring-accent-200;
  }

  /* Card styles - Enhanced with brand colors */
  .card {
    @apply bg-white rounded-xl shadow-md border border-primary-100 p-6 transition-all duration-300 hover:shadow-xl hover:border-primary-200 hover:-translate-y-1;
  }

  /* Form input - Trust-building focus states */
  .input {
    @apply w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-primary-300 transition-all;
  }

  /* Heading gradient */
  .heading-gradient {
    @apply bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent;
  }

  /* === BRAND-SPECIFIC TRUST-BUILDING COMPONENTS === */

  /* Brand gradient backgrounds for trust signals */
  .bg-gradient-trust {
    @apply bg-gradient-to-br from-primary-600 via-primary-500 to-secondary-600;
  }

  .bg-gradient-innovation {
    @apply bg-gradient-to-r from-accent-500 to-accent-600;
  }

  .bg-gradient-growth {
    @apply bg-gradient-to-br from-secondary-500 to-secondary-600;
  }

  /* Brand text gradients for emphasis */
  .text-gradient-brand {
    @apply bg-gradient-to-r from-primary-600 via-accent-500 to-secondary-600 bg-clip-text text-transparent;
  }

  .text-gradient-trust {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent;
  }

  /* Trust badge component */
  .trust-badge {
    @apply inline-flex items-center space-x-2 px-4 py-2 bg-white border-2 border-secondary-200 rounded-full shadow-md text-sm font-semibold text-secondary-900 transition-all hover:shadow-lg hover:border-secondary-300;
  }

  /* Premium card with brand colors for high-value content */
  .card-premium {
    @apply bg-white rounded-xl shadow-lg border-2 border-primary-100 p-6 transition-all duration-300 hover:shadow-2xl hover:border-primary-300 hover:-translate-y-1;
  }

  /* Enhanced CTA button with brand orange gradient */
  .btn-cta-enhanced {
    @apply btn bg-gradient-to-r from-accent-500 to-accent-600 text-white hover:from-accent-600 hover:to-accent-700 hover:shadow-2xl hover:shadow-accent-300 hover:scale-105 active:scale-100 focus-visible:outline-accent-600 focus-visible:ring-4 focus-visible:ring-accent-200;
  }

  /* Enhanced primary button with trust-building effects */
  .btn-primary-enhanced {
    @apply btn bg-primary-500 text-white hover:bg-primary-600 hover:shadow-xl hover:shadow-primary-200 hover:-translate-y-1 active:translate-y-0 focus-visible:outline-primary-600 focus-visible:ring-4 focus-visible:ring-primary-200;
  }

  /* Secondary button with stronger brand presence */
  .btn-secondary-enhanced {
    @apply btn border-2 border-primary-500 text-primary-700 bg-white hover:bg-primary-500 hover:text-white hover:shadow-xl hover:shadow-primary-100 hover:border-primary-600 active:scale-95;
  }

  /* === CONVERSION-OPTIMIZED LIST STYLES === */

  /* These styles apply to lists outside of .prose context (service pages, etc) */
  /* For blog posts, see BlogLayout.astro for .prose-specific list styling */

  /* Base unordered list styling */
  ul:not(.no-list-style) {
    @apply space-y-3;
    list-style: none;
    padding-left: 0;
  }

  ul:not(.no-list-style) > li {
    @apply relative pl-8;
    line-height: 1.75;
  }

  /* Custom checkmark bullet */
  ul:not(.no-list-style) > li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.4em;
    width: 1.25em;
    height: 1.25em;
    background-color: #3c8bda;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
    mask-size: contain;
    mask-repeat: no-repeat;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
    -webkit-mask-size: contain;
    -webkit-mask-repeat: no-repeat;
    flex-shrink: 0;
  }

  /* Nested unordered lists */
  ul:not(.no-list-style) ul > li::before {
    background-color: #3eb875;
    width: 1em;
    height: 1em;
    top: 0.5em;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
  }

  /* Base ordered list styling */
  ol:not(.no-list-style) {
    @apply space-y-3;
    list-style: none;
    padding-left: 0;
    counter-reset: list-counter;
  }

  ol:not(.no-list-style) > li {
    @apply relative pl-10;
    counter-increment: list-counter;
    line-height: 1.75;
  }

  /* Custom numbered bullets with gradient */
  ol:not(.no-list-style) > li::before {
    content: counter(list-counter);
    position: absolute;
    left: 0;
    top: 0;
    width: 1.75em;
    height: 1.75em;
    background: linear-gradient(135deg, #3c8bda 0%, #2d6bb0 100%);
    color: white;
    font-weight: 700;
    font-size: 0.875em;
    border-radius: 0.375rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(60, 139, 218, 0.2);
    font-family: 'Poppins', 'Inter', sans-serif;
  }

  /* Nested ordered lists */
  ol:not(.no-list-style) ol {
    counter-reset: nested-counter;
    margin-top: 0.5em;
  }

  ol:not(.no-list-style) ol > li {
    counter-increment: nested-counter;
    @apply pl-9;
  }

  ol:not(.no-list-style) ol > li::before {
    content: counter(nested-counter, lower-alpha);
    background: linear-gradient(135deg, #3eb875 0%, #2f8b5a 100%);
    width: 1.5em;
    height: 1.5em;
    font-size: 0.75em;
  }

  /* List hover effects for better engagement */
  ul:not(.no-list-style) > li,
  ol:not(.no-list-style) > li {
    transition: transform 0.2s ease;
  }

  ul:not(.no-list-style) > li:hover,
  ol:not(.no-list-style) > li:hover {
    transform: translateX(4px);
  }

  /* === TEXT HIGHLIGHT EFFECTS === */

  /* Base highlight text - Creates marker-style highlight behind text */
  .text-highlight {
    @apply relative inline-block whitespace-nowrap bg-transparent;
  }

  /* The highlight shape using ::before pseudo-element */
  .text-highlight::before {
    content: "";
    @apply absolute -z-10 rounded-sm;
    left: -0.15em;
    right: -0.1em;
    bottom: 0em;
    height: 0.6em;
    background: var(--hl-color, #FFA708);
    transform: skewX(-14deg);
    transform-origin: left bottom;
  }

  /* Color variants - Use hardcoded hex values to prevent purging */
  .text-highlight-primary {
    --hl-color: #A3D0EB;
  }

  .text-highlight-secondary {
    --hl-color: #A3E7C3;
  }

  .text-highlight-accent {
    --hl-color: #FFD266;
  }

  .text-highlight-yellow {
    --hl-color: #FCC75B;
  }

  /* Style variants */
  .text-highlight-bold::before {
    height: 0.75em;
    bottom: -0.05em;
  }

  .text-highlight-subtle::before {
    height: 0.4em;
    opacity: 0.6;
  }

  .text-highlight-full::before {
    height: 100%;
    bottom: 0;
  }
}

@layer utilities {
  /* Text shadows */
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* Glassmorphism */
  .glass {
    @apply bg-white/80 backdrop-blur-lg border border-white/20;
  }

  /* Gradient backgrounds */
  .bg-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700;
  }

  .bg-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-600 to-secondary-700;
  }

  .bg-gradient-accent {
    @apply bg-gradient-to-r from-accent-500 to-accent-600;
  }

  .bg-gradient-hero {
    @apply bg-gradient-to-br from-primary-50 via-white to-secondary-50;
  }

  /* === BRAND-SPECIFIC SHADOWS FOR TRUST & DEPTH === */

  /* Primary (blue) shadow - Use for trust-focused elements */
  .shadow-primary {
    box-shadow: 0 10px 40px -10px rgba(60, 139, 218, 0.3);
  }

  .shadow-primary-lg {
    box-shadow: 0 20px 60px -15px rgba(60, 139, 218, 0.4);
  }

  /* Secondary (green) shadow - Use for growth/success indicators */
  .shadow-secondary {
    box-shadow: 0 10px 40px -10px rgba(62, 184, 117, 0.3);
  }

  .shadow-secondary-lg {
    box-shadow: 0 20px 60px -15px rgba(62, 184, 117, 0.4);
  }

  /* Accent (orange) shadow - Use for CTAs and action elements */
  .shadow-accent {
    box-shadow: 0 10px 40px -10px rgba(255, 167, 8, 0.4);
  }

  .shadow-accent-lg {
    box-shadow: 0 20px 60px -15px rgba(255, 167, 8, 0.5);
  }
}
